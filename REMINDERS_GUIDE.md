# üí≠ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–∑ –æ–±—â–µ–≥–æ –ø—É–ª–∞ –≤ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è —Å 12:00 –¥–æ 20:00 —Ä–∞–∑ –≤ –¥–µ–Ω—å.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üéØ **–£–º–Ω—ã–π –≤—ã–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π** - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å–∏—Å—Ç–µ–º–µ "–ü–æ–º–æ—á—å –∫–æ–º—É-–Ω–∏–±—É–¥—å", –Ω–∞—á–∏–Ω–∞–µ—Ç —Å —Å–∞–º–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–æ–≥–æ ID –∏ –∏–¥–µ—Ç –ø–æ –ø–æ—Ä—è–¥–∫—É
- ‚è∞ **–°–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è** - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ø–µ—Ä–∏–æ–¥ —Å 12:00 –¥–æ 20:00
- üé≤ **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π** - –≤ –¥–µ–Ω—å –ø–æ–ª—É—á–∞—é—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞ —Å–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞
- üîÑ **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å** - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ –±–æ–ª–µ–µ –æ–¥–Ω–æ–≥–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –í –ø—Ä–æ—Ñ–∏–ª–µ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π: "üîî –≤–∫–ª—é—á–µ–Ω—ã" –∏–ª–∏ "üîï –≤—ã–∫–ª—é—á–µ–Ω—ã"
- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è: "üîî –í–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è" / "üîï –í—ã–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è"

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏
```
üí≠ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∞

–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–µ–Ω—ã üîî

üì¨ –¢—ã –±—É–¥–µ—à—å –ø–æ–ª—É—á–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑ –≤ –¥–µ–Ω—å —Å 12:00 –¥–æ 20:00
```

## –§–æ—Ä–º–∞—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

```
üíù –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø–æ–¥–¥–µ—Ä–∂–∫–µ

[–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏]

‚Äî [–ù–∏–∫–Ω–µ–π–º –∞–≤—Ç–æ—Ä–∞]

üí≠ –ü–æ–º–Ω–∏: —Ç—ã –Ω–µ –æ–¥–∏–Ω, –∏ –≤—Å—ë –Ω–∞–ª–∞–¥–∏—Ç—Å—è! üåü
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–æ–ª–±–µ—Ü `reminders_enabled BOOLEAN DEFAULT TRUE` –≤ —Ç–∞–±–ª–∏—Ü—É `users`

2. **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã** (main.py)
   - `POST /toggle_reminders` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
   - `POST /get_reminder_message` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ get_help_request)
   - `GET /get_users_with_reminders` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏

3. **–ë–æ—Ç** (bot.py)
   - –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ—Ñ–∏–ª—è
   - –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ `toggle_reminders`
   - –û–±–Ω–æ–≤–ª–µ–Ω API –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

4. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** (reminder_scheduler.py)
   - –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–æ–Ω–æ–π Europe/Moscow (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)
   - –°–ª—É—á–∞–π–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –ø—Ä–æ–≤–µ—Ä–∫–∏: 30-90 –º–∏–Ω—É—Ç –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è, 2-4 —á–∞—Å–∞ –≤–Ω–µ –µ–≥–æ

### –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ—Ç –∂–µ –ø—Ä–∏–Ω—Ü–∏–ø, —á—Ç–æ –∏ "–ü–æ–º–æ—á—å –∫–æ–º—É-–Ω–∏–±—É–¥—å":
1. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è `last_seen_id`
2. –í—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å `id > last_seen_id`
3. –ï—Å–ª–∏ —Ç–∞–∫–∏—Ö –Ω–µ—Ç - –Ω–∞—á–∏–Ω–∞–µ–º —Å–Ω–∞—á–∞–ª–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ ID
4. –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

1. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: 12:00-20:00 –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏
2. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç**: –æ–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –º–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –¥–µ–Ω—å
3. **–°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è 10-30% –æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞ —Ä–∞–∑
4. **–°–ª—É—á–∞–π–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30-90 –º–∏–Ω—É—Ç –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è

## –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### –ß–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
docker-compose up -d
```
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –≤–∫–ª—é—á–∞—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.

### –û—Ç–¥–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

**Linux/macOS:**
```bash
./start_reminders.sh
```

**Windows:**
```cmd
start_reminders.bat
```

**–ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫:**
```bash
python reminder_scheduler.py
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞:
- `BOT_TOKEN` - —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `API_BASE_URL` - –∞–¥—Ä–µ—Å FastAPI —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:8000)

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤–µ–¥–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:
- üöÄ –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
- üì§ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- ‚è∞ –í—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- ‚ùå –û—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
python setup_db_manual.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç —Å—Ç–æ–ª–±–µ—Ü `reminders_enabled` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `TRUE` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–≥–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- –°—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- –í—Ä–µ–º—è —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞:
```
üì§ Sending reminders to 3 users out of 15 eligible
‚úÖ Reminder sent to user 123456789 (message_id: 42)
‚úÖ Successfully sent 3/3 reminders
‚è≥ Next reminder check at: 15:32:18 (in 67 minutes)
```
